<!--本页实现登录功能
设置了图形界面
实现登录功能，输入账户密码会到后端数据库查询匹配 查询错误显示错误警告 成功自动弹到首页(HelloWorld.html)
注册账号链接注册账号页面 帮助则链接qdu官网
忘记密码 关于我们 | 联系我们 | 商家入驻 | 友情链接 |暂未实现
Created by liushuai in 2023/12/18

-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
<!--    <link rel="shortcut icon" href="image/img.png">-->
    <link rel="stylesheet" href="css/login.css">
    <link rel="stylesheet" href="css/footer.css">
    <script src="js/jquery-3.6.1.min.js"></script>

</head>
<body>
<!--头部-->
<div id="header">
    <!--头部中间信息-->
    <div class="h_center">
        <img src="image/logo3.png" alt="青岛大学图书馆" class="fr">
        <p>欢迎来到qdu图书馆：请先登录！</p>
    </div>
</div>

<!--中部-->
<div id="login_body">
    <div class="login_b_center">
        <div class="login_bg">
            <h1>登录</h1>
            <form action="#" id="login" method="post">
                <!--                //用户名-->
                <div class="mb-3">
                    <label for="usernameInput" class="col-form-label"></label>
                    <input class="form-control" id="usernameInput" name="usernameInput" placeholder="请输入用户名"></input>
                </div>
                <div class="mb-3">
                    <label for="passwordInput" class="col-form-label"></label>
                    <input class="form-control" id="passwordInput" name="passwordInput" placeholder="请输入密码"></input>
                </div>

                <!--                //登录按钮-->
                <div class="login_btn">
                    <input type="button" value="登录"  id="loginBtn" onclick="mylogin()" >
                </div>

                <div class="forgot_password">
                    <a href="passwordChange.html">忘记密码</a>
                    <a href="regist.html">注册账号</a>
                    <a href="https://www.qdu.edu.cn/">帮助</a>
                </div>
            </form>
        </div>
    </div>
</div>

<!--尾部-->
<div id="footer">
    <div class="link">
        <a href="">关于我们</a>
        |
        <a href="">联系我们</a>
        |
        <a href="">商家入驻</a>
        |
        <a href="">友情链接</a>
        |
    </div>
    <div class="copyright">
        BOOKSYSYEM created By LS in 2023/12/17
    </div>
</div>

</body>
<script type="text/javascript">
    // $('#loginBtn').click(function() {
    //
    //     var result = mylogin();
    //     if (result === true) {
    //         window.location.href = 'books.html'; // 替换为目标页面的URL
    //     }
    // });
   function mylogin() {
       var username=$("#usernameInput").val();// 假设存在一个名为 #usernameInput 的输入框用于输入用户名
       var password = $('#passwordInput').val(); // 假设存在一个名为 #passwordInput 的输入框用于输入密码
       console.log(username)
       console.log(password)

       $.ajax({
           url: "http://localhost:8081/user/login",
           type: "GET",
           data: {
               username: username,
               password: password
           },

           success:function (resp)
           {
               console.log(resp);
               console.log("ffff")
               if(resp.code==200)   //密码正确
               {
                   console.log("正确")
                   window.location.href = 'http://localhost:8081/HelloWorld.html'; // 替换为目标页面的URL
               }
               else
               {
                   alert("用户名或密码错误")
               }
           }

       })
       // if (username === '123' && password === '234') {
       //     return true;
       // } else {
       //     alert("密码错误")
       //     return false;
       // }
   }

</script>

</html>
